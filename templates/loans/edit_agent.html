{% extends "base.html" %}

{% block title %}Edit Agent - {{ agent.user.username }}{% endblock %}

{% block content %}
<div class="container my-4">
  <div class="card mx-auto" style="max-width: 600px;">
    <div class="card-body">
      <h3 class="card-title text-center mb-4">Edit Agent Details</h3>

      {% if messages %}
        {% for message in messages %}
          <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
      {% endif %}

      <form method="post">
        {% csrf_token %}

        <div class="mb-3">
          <label for="first_name" class="form-label">First Name</label>
          <input type="text" class="form-control" id="first_name" name="first_name"
                 value="{{ agent.user.first_name }}">
        </div>

        <div class="mb-3">
          <label for="last_name" class="form-label">Last Name</label>
          <input type="text" class="form-control" id="last_name" name="last_name"
                 value="{{ agent.user.last_name }}">
        </div>

        <div class="mb-3">
          <label for="email" class="form-label">Email</label>
          <input type="email" class="form-control" id="email" name="email"
                 value="{{ agent.user.email }}">
        </div>

        <div class="mb-3">
          <label for="username" class="form-label">Username</label>
          <input type="text" class="form-control" id="username" name="username"
                 value="{{ agent.user.username }}" disabled>
          <small class="text-muted">Username cannot be changed</small>
        </div>

        <button type="submit" class="btn btn-primary w-100">Save Changes</button>
        <a href="{% url 'loans:admin_agents' %}" class="btn btn-secondary w-100 mt-2">Cancel</a>
      </form>
    </div>
  </div>
</div>
{% endblock %}
